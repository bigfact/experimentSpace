!function(a){function t(a){var t=this;t.img=a,t.block,t.box,t.cover,t.canvas,t.canvasCtx}return t.prototype={init:function(){var a=this;a.block=document.createElement("div"),a.block.className="imageditor",a.cover=document.createElement("div"),a.cover.className="cover",a.block.appendChild(a.cover),a.canvas=document.createElement("canvas"),a.canvas.width=a.img.clientWidth,a.canvas.height=a.img.clientHeight,a.block.appendChild(a.canvas),a.canvasCtx=a.canvas.getContext("2d");var t=document.createElement("img");t.src=a.copy(a.img),a.img=t,a.block.appendChild(a.img),a.img.onload=function(){new ImageOperate(a.img).init()},a.box=document.createElement("div"),a.box.className="box",a.block.appendChild(a.box),document.body.appendChild(a.block)},cut:function(){var a=this;return a.img.src=a.copy(a.img),a.canvas.width=200,a.canvas.height=200,a.canvasCtx.drawImage(a.img,a.box.offsetLeft-a.img.offsetLeft,a.box.offsetTop-a.img.offsetTop,a.box.clientWidth,a.box.clientHeight,0,0,a.canvas.width,a.canvas.height),a.canvas.toDataURL()},copy:function(a){var t=this;t.canvas.width=a.clientWidth,t.canvas.height=a.clientHeight,t.canvasCtx.drawImage(a,0,0,a.naturalWidth,a.naturalHeight,0,0,t.canvas.width,t.canvas.height);var e=t.canvas.toDataURL();return t.canvas.width=0,t.canvas.height=0,e}},window.Imageditor=t,t}(window);