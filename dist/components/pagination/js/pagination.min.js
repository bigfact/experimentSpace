!function(a){function e(a){this.container=a,this.config={totalpage:0,currentpage:0,btnlength:9}}return e.prototype={init:function(a){var e=this;a=a||{},e.config.totalpage=a.totalpage||e.config.totalpage,e.config.currentpage=a.currentpage||e.config.currentpage,e.config.btnlength=a.btnlength||e.config.btnlength,e.config.totalpage<=0&&(e.config.totalpage=1),e.config.currentpage>e.config.totalpage&&(e.config.currentpage=e.config.totalpage),e.config.currentpage<=0&&(e.config.currentpage=1),e.config.btnlength>e.config.totalpage&&(e.config.btnlength=e.config.totalpage),e.createPage()},createPage:function(){var a=this,e=a.config.currentpage-1,t=a.config.btnlength,n=document.createElement("ul");n.className="pagination";var i=document.createElement("li");i.innerHTML='<a data-page="first"><span>首页</span></a>',i.className="first";var c=document.createElement("li");c.innerHTML='<a data-page="prev"><span>上一页</span></a>',c.className="prev",0==e&&(i.className+=" disabled",c.className+=" disabled"),n.appendChild(i),n.appendChild(c);var g=e-Math.floor(t/2);g<0&&(g=0),g+t>a.config.totalpage&&(g=a.config.totalpage-t);for(var r=0;r<t;r++,g++){var o=document.createElement("li");e==g&&o.setAttribute("class","active"),o.innerHTML+='<a data-page="'+(g+1).toString()+'"><span>'+(g+1).toString()+"</span></a>",n.appendChild(o)}var p=document.createElement("li");p.innerHTML='<a data-page="next"><span>下一页</span></a>',p.className="next";var l=document.createElement("li");l.innerHTML='<a data-page="last"><span>末页</span></a>',l.className="last",e==a.config.totalpage-1&&(p.className+=" disabled",l.className+=" disabled"),n.appendChild(p),n.appendChild(l);var s=n.getElementsByTagName("a");for(g=0;g<s.length;g++)s[g].addEventListener("click",function(){a.pageChange(this)},!1);void 0!=a.container.firstChild?a.container.replaceChild(n,a.container.firstChild):a.container.appendChild(n)},pageChange:function(a){var e=this.config.currentpage,t=a.getAttribute("data-page");"first"==t?this.config.currentpage=1:"prev"==t?this.config.currentpage-1>0&&this.config.currentpage--:"next"==t?this.config.currentpage+1<=this.config.totalpage&&this.config.currentpage++:"last"==t?this.config.currentpage=this.config.totalpage:this.config.currentpage=t,e!=this.config.currentpage&&(this.createPage(),this.callback())},onChange:function(a){"function"==typeof a&&(this.callback=a)}},a.Pagination=e,e}(window);