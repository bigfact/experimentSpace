!function(t){function e(t){for(var e in m)"undefined"==typeof f[e]&&(f[e]=m[e]);t.addEventListener("touchstart",r,!1),t.addEventListener("touchmove",a,!1),t.addEventListener("touchend",o,!1),c.translate=d(f.width,f.itemnum,f.index),h(t.children,0),s(t.children,f.derection,c.translate);var i=setTimeout(function(){h(t.children,f.transitionDuration),clearTimeout(i)},0);n(t)}function n(t){f.tid=setInterval(function(){if(++f.index>f.itemnum-1){l(t,1);for(var e=[],n=0;n<f.itemnum-1;n++)e.push(-(f.itemnum-2-n)*f.width);e.push(f.width),s(t.children,f.derection,e),c.translate=c.translateEnd;var i=setTimeout(function(){s(t.children,f.derection,c.translate),clearTimeout(i)},0)}else c.translateEnd=c.translate=d(f.width,f.itemnum,f.index),s(t.children,f.derection,c.translate)},2e3)}function i(){clearInterval(f.tid)}function r(t){c.touch.start=t.touches[0],c.translateEnd=c.translate,f.index=u(c.translate),c["switch"]=0==f.index||f.index==f.itemnum-1,i()}function a(t){if(t.preventDefault(),c.moveLength=c.touch.start.clientX-t.touches[0].clientX,!(Math.abs(c.moveLength)<10)){var e=[],n=0==f.index&&c.moveLength<0,i=f.index==f.itemnum-1&&c.moveLength>0;if(n||i){if(n){e.push(-c.moveLength-f.width);for(var r=1;r<f.itemnum;r++)e.push(c.translateEnd[r-1]-c.moveLength)}else{for(var r=0;r<f.itemnum-1;r++)e.push(c.translateEnd[r+1]-c.moveLength);e.push(-c.moveLength+f.width)}if(c["switch"]){var a=this;c["switch"]=!c["switch"],l(a,c.moveLength);var o=setTimeout(function(){s(a.children,f.derection,e),clearTimeout(o)},0);return!0}}else for(var r=0;r<f.itemnum;r++)e.push(c.translateEnd[r]-c.moveLength);s(this.children,f.derection,e),c.translate=e}}function o(t){Math.abs(c.moveLength/f.width)>f.slideDifficulty?c.translate=d(f.width,f.itemnum,c.moveLength<0?f.index-1:f.index+1):c.translate=c.translateEnd,s(this.children,f.derection,c.translate),n(this)}function d(t,e,n){n="undefined"==typeof n?0:n,0>n&&(n=0),n>e-1&&(n=e-1);var i=[],r=0;for(r=0;n>r;r++)i.push(-(n-r)*t);for(i.push(0),r=n+1;e>r;r++)i.push((r-n)*t);return i}function s(t,e,n){var i="translate3d(",r="";"y"===e?(i+="0px, ",r=", 0px)"):r+=", 0px, 0px)";for(var a=0;a<t.length;a++)t[a].style.transform=i+n[a]+"px"+r}function h(t,e){for(var n=0;n<t.length;n++)t[n].style.transitionDuration=e+"ms"}function u(t){for(var e=0;e<t.length;e++)if(0===t[e])return e;return 0}function l(t,e){var n=e>0?t.children[0]:t.children[t.children.length-1];n.remove(),n.style.transform="translate3d(-375px, 0px, 0px)",e>0?t.appendChild(n):t.insertBefore(n,t.children[0])}var c={moveLength:0,touch:{start:{},move:{}},translate:[],translateEnd:[],slider:{},"switch":!1,tid:0},m={width:0,height:0,itemnum:0,index:0,derection:"x",transitionDuration:300,slideDifficulty:.1},f={width:document.body.offsetWidth,height:100,itemnum:4,index:0,derection:"x",transitionDuration:500,slideDifficulty:.1};c.slider=document.querySelector(".slider"),e(c.slider)}(window);