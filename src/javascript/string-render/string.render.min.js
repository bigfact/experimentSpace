function render(r,e){var n=/(\\)?\{([^\{\}\\]+)(\\)?\}/g;return r.replace(n,function(r,n,t,o){if(n||o)return r.replace("\\","");var i,a,g,l=t.replace(/\s/g,"").split("."),u=e;for(i=0,a=l.length,g=l[i];a>i;++i)if(u=u[g],void 0===u||null===u)return"";return u})}String.prototype.render=function(r){return render(this,r)};var msg="{ greeting }! My name is { author.name }.".render({greeting:"Hello",author:{name:"xxx"}});console.log(msg);